{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst form = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\n\nfunction fetchImg(searchWord) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const PARAMS = new URLSearchParams({\n    key: '42078504-06c0bc861c70afe486d8727f6',\n    q: searchWord,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = `${BASE_URL}${END_POINT}?${PARAMS}`;\n  return fetch(url)\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        throw new Error('ERROR');\n      }\n    })\n    .then(data => {\n      const images = data.hits;\n      if (images.length > 0) {\n        return images;\n      } else {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  loader.classList.remove('is-hidden');\n  const word = e.target.elements.imageDesc.value;\n  gallery.innerHTML = '';\n  fetchImg(word)\n    .then(images => renderImages(images))\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      loader.classList.add('is-hidden');\n    });\n}\n\nfunction imgTemplate(image) {\n  return `<li class=\"gallery__item\">\n   <a class=\"gallery__link\" href=\"${image.largeImageURL}\">\n    <img class=\"gallery__image\" src=${image.webformatURL} alt=${image.tags}/> \n    <ul class=\"description-list\">\n            <li class=\"description-item\">Lickes: ${image.likes}</li>\n            <li class=\"description-item\">Views: ${image.views}</li>\n            <li class=\"description-item\">Comments: ${image.comments}</li>\n            <li class=\"description-item\">Downloads: ${image.downloads}</li>\n    </ul>\n    </a>\n  </li>`;\n}\n\nfunction imagesTemplate(images) {\n  return images.map(imgTemplate).join('');\n}\n\nfunction renderImages(images) {\n  const markup = imagesTemplate(images);\n  gallery.insertAdjacentHTML('beforeend', markup);\n  modalWindow.refresh();\n}\n\nconst modalWindow = new SimpleLightbox('.gallery a', {\n  captionDelay: '250',\n});\n"],"names":["gallery","form","loader","fetchImg","searchWord","BASE_URL","END_POINT","PARAMS","url","response","data","images","iziToast","error","onFormSubmit","e","word","renderImages","imgTemplate","image","imagesTemplate","markup","modalWindow","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,EAASC,EAAY,CAC5B,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAEKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAC7C,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAIA,EAAS,GACX,OAAOA,EAAS,OAEhB,MAAM,IAAI,MAAM,OAAO,CAE/B,CAAK,EACA,KAAKC,GAAQ,CACZ,MAAMC,EAASD,EAAK,KACpB,GAAIC,EAAO,OAAS,EAClB,OAAOA,EAEPC,EAAS,MAAM,CACb,QACE,0EACZ,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CAEAZ,EAAK,iBAAiB,SAAUa,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChBb,EAAO,UAAU,OAAO,WAAW,EACnC,MAAMc,EAAOD,EAAE,OAAO,SAAS,UAAU,MACzCf,EAAQ,UAAY,GACpBG,EAASa,CAAI,EACV,KAAKL,GAAUM,EAAaN,CAAM,CAAC,EACnC,MAAME,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbX,EAAO,UAAU,IAAI,WAAW,CACtC,CAAK,CACL,CAEA,SAASgB,EAAYC,EAAO,CAC1B,MAAO;AAAA,oCAC2BA,EAAM,aAAa;AAAA,sCACjBA,EAAM,YAAY,QAAQA,EAAM,IAAI;AAAA;AAAA,mDAEvBA,EAAM,KAAK;AAAA,kDACZA,EAAM,KAAK;AAAA,qDACRA,EAAM,QAAQ;AAAA,sDACbA,EAAM,SAAS;AAAA;AAAA;AAAA,QAIrE,CAEA,SAASC,EAAeT,EAAQ,CAC9B,OAAOA,EAAO,IAAIO,CAAW,EAAE,KAAK,EAAE,CACxC,CAEA,SAASD,EAAaN,EAAQ,CAC5B,MAAMU,EAASD,EAAeT,CAAM,EACpCX,EAAQ,mBAAmB,YAAaqB,CAAM,EAC9CC,EAAY,QAAO,CACrB,CAEA,MAAMA,EAAc,IAAIC,EAAe,aAAc,CACnD,aAAc,KAChB,CAAC"}